import{d as C,j,u as B,k as M,r as I,l as S,o as N,w as V,m as F,c as t,a as s,b as e,h as d,f as n,t as i,p as y,q as v,i as f,F as T,g as $,s as z}from"./index-B-cBX56K.js";import{u as A}from"./menu-KjFtFX1x.js";import{g as D}from"./index-D3jsOSc0.js";const E={class:"bg-gray-50 min-h-screen"},L={class:"container mx-auto px-4 py-12"},R={key:0,class:"flex justify-center items-center py-12"},U={key:1},q={key:0,class:"relative mb-12 rounded-xl overflow-hidden shadow-elegant"},O={class:"h-64 bg-gray-200 relative"},W=["src","alt"],G={key:1,class:"w-full h-full bg-primary-200 flex items-center justify-center"},H={class:"absolute bottom-0 left-0 right-0 p-6 text-white"},J={class:"flex items-center justify-between"},K={class:"text-3xl md:text-4xl font-display mb-2"},P={class:"text-gray-200 max-w-xl"},Q={key:0,class:"bg-error-600 text-white text-sm px-3 py-1 rounded-full"},X={key:1,class:"text-center py-12"},Y={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},Z=["onClick"],ee=["src","alt"],te={key:1,class:"w-full h-full bg-accent-100 flex items-center justify-center text-accent-500"},se={key:0,class:"absolute top-4 right-4 bg-error-600 text-white text-xs px-2 py-1 rounded-full"},oe={class:"p-6"},re=["onClick"],ae={class:"text-xl font-display text-gray-800 mb-1 group-hover:text-primary-700"},ne={class:"text-gray-600 text-sm line-clamp-2 h-10"},le={class:"flex justify-between items-center"},ie={class:"text-lg font-semibold text-primary-800"},ce=["onClick","disabled"],de={class:"mt-12 text-center"},he=C({__name:"CategoryView",setup(ue){const u=j(),x=B(),a=A(),b=M(),c=I(!0),m=S(()=>Number(u.params.id));N(async()=>{await g()}),V(()=>u.params.id,async()=>{await g()});async function g(){c.value=!0;try{await a.getCategoryById(m.value),await a.fetchMenuItems(m.value),setTimeout(()=>{k()},1e3)}catch(l){console.error("Error loading category data:",l)}finally{c.value=!1}}function _(l){x.push(`/item/${l}`)}function w(l){b.addToCart(l)}function k(){D.from(".menu-item-card",{opacity:0,y:20,stagger:.1,duration:.5,ease:"power2.out"})}return(l,r)=>{const h=F("router-link");return s(),t("div",E,[e("div",L,[c.value?(s(),t("div",R,r[0]||(r[0]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-700"},null,-1)]))):(s(),t("div",U,[n(a).currentCategory?(s(),t("div",q,[e("div",O,[n(a).currentCategory.image_url?(s(),t("img",{key:0,src:n(a).currentCategory.image_url,alt:n(a).currentCategory.name,class:"w-full h-full object-cover"},null,8,W)):(s(),t("div",G)),r[1]||(r[1]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"},null,-1)),e("div",H,[e("div",J,[e("div",null,[e("h1",K,i(n(a).currentCategory.name),1),e("p",P,i(n(a).currentCategory.description),1)]),n(a).currentCategory.is_available?d("",!0):(s(),t("div",Q," Category Unavailable "))])])])])):d("",!0),n(a).menuItems.length===0?(s(),t("div",X,[r[3]||(r[3]=e("p",{class:"text-gray-500 text-lg"},"No menu items available in this category.",-1)),y(h,{to:"/menu",class:"btn-primary mt-4 inline-block"},{default:v(()=>r[2]||(r[2]=[f(" Back to Categories ")])),_:1,__:[2]})])):(s(),t("div",Y,[(s(!0),t(T,null,$(n(a).menuItems,o=>(s(),t("div",{key:o.id,class:"menu-item-card bg-white rounded-lg shadow-elegant hover:shadow-menu group relative overflow-hidden"},[e("div",{class:"h-48 bg-gray-200 overflow-hidden cursor-pointer",onClick:p=>_(o.id)},[o.image_url?(s(),t("img",{key:0,src:o.image_url,alt:o.name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"},null,8,ee)):(s(),t("div",te,r[4]||(r[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])))],8,Z),o.is_available?d("",!0):(s(),t("div",se," Unavailable ")),e("div",oe,[e("div",{class:"mb-4 cursor-pointer",onClick:p=>_(o.id)},[e("h3",ae,i(o.name),1),e("p",ne,i(o.description),1)],8,re),e("div",le,[e("span",ie,"F.CFA "+i(o.price),1),e("button",{onClick:p=>w(o),disabled:!o.is_available,class:z(["btn-sm px-3 py-1 rounded-full text-sm transition-colors",o.is_available?"bg-primary-700 text-white hover:bg-primary-800":"bg-gray-300 text-gray-500 cursor-not-allowed"])}," Add to Cart ",10,ce)])])]))),128))])),e("div",de,[y(h,{to:"/menu",class:"btn-outline inline-block"},{default:v(()=>r[5]||(r[5]=[e("span",{class:"flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})]),f(" Back to Categories ")],-1)])),_:1,__:[5]})])]))])])}}});export{he as default};
