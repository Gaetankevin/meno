import{d as M,j as I,k as C,r as p,l as j,o as B,m as S,c as n,a as r,b as e,f as o,h as f,p as m,q as g,i as l,t as i,s as N}from"./index-B-cBX56K.js";import{u as V}from"./menu-KjFtFX1x.js";import{g as v}from"./index-D3jsOSc0.js";const z={class:"bg-gray-50 min-h-screen py-12"},H={class:"container mx-auto px-4"},$={key:0,class:"flex justify-center items-center py-12"},D={key:1,class:"max-w-5xl mx-auto"},T={class:"bg-white rounded-xl shadow-elegant overflow-hidden"},q={class:"md:flex"},A={class:"item-image md:w-1/2 h-64 md:h-auto bg-gray-200 relative"},E=["src","alt"],F={key:1,class:"w-full h-full bg-accent-100 flex items-center justify-center text-accent-500"},L={key:2,class:"absolute top-4 left-4"},O={key:3,class:"absolute top-4 right-4 bg-error-600 text-white text-xs px-2 py-1 rounded-full"},Q={class:"item-details md:w-1/2 p-8"},R={class:"text-3xl font-display text-gray-800 mb-4"},U={class:"mb-6"},W={class:"text-2xl font-semibold text-primary-800"},G={class:"mb-8"},J={class:"text-gray-600"},K={class:"mb-8"},P={class:"flex items-center"},X=["disabled"],Y={class:"mx-4 text-xl w-6 text-center"},Z={class:"flex space-x-4"},ee=["disabled"],te={key:2,class:"text-center py-12"},ae=M({__name:"MenuItemView",setup(se){const y=I(),s=V(),x=C(),u=p(!0),a=p(1),_=j(()=>Number(y.params.id));B(async()=>{await w(),b()});async function w(){var d;u.value=!0;try{await s.getMenuItemById(_.value),(d=s.currentMenuItem)!=null&&d.category_id&&await s.getCategoryById(s.currentMenuItem.category_id)}catch(t){console.error("Error loading menu item data:",t)}finally{u.value=!1}}function h(){s.currentMenuItem&&x.addToCart(s.currentMenuItem,a.value)}function b(){v.from(".item-image",{opacity:0,x:-30,duration:.8,ease:"power2.out"}),v.from(".item-details",{opacity:0,x:30,duration:.8,ease:"power2.out"})}return(d,t)=>{const c=S("router-link");return r(),n("div",z,[e("div",H,[u.value?(r(),n("div",$,t[2]||(t[2]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-700"},null,-1)]))):o(s).currentMenuItem?(r(),n("div",D,[e("div",T,[e("div",q,[e("div",A,[o(s).currentMenuItem.image_url?(r(),n("img",{key:0,src:o(s).currentMenuItem.image_url,alt:o(s).currentMenuItem.name,class:"w-full h-full object-cover"},null,8,E)):(r(),n("div",F,t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-24 w-24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]))),o(s).currentCategory?(r(),n("div",L,[m(c,{to:`/category/${o(s).currentMenuItem.category_id}`,class:"badge-secondary"},{default:g(()=>[l(i(o(s).currentCategory.name),1)]),_:1},8,["to"])])):f("",!0),o(s).currentMenuItem.is_available?f("",!0):(r(),n("div",O," Currently Unavailable "))]),e("div",Q,[e("h1",R,i(o(s).currentMenuItem.name),1),e("div",U,[e("span",W," F.CFA "+i(o(s).currentMenuItem.price),1)]),e("div",G,[t[4]||(t[4]=e("h3",{class:"text-lg font-medium mb-2"},"Description",-1)),e("p",J,i(o(s).currentMenuItem.description),1)]),e("div",K,[t[7]||(t[7]=e("h3",{class:"text-lg font-medium mb-2"},"Quantity",-1)),e("div",P,[e("button",{onClick:t[0]||(t[0]=k=>a.value>1?a.value--:null),class:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",disabled:a.value<=1},t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,X),e("span",Y,i(a.value),1),e("button",{onClick:t[1]||(t[1]=k=>a.value++),class:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors"},t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]))])]),e("div",Z,[e("button",{onClick:h,disabled:!o(s).currentMenuItem.is_available,class:N(["btn-primary flex-1",o(s).currentMenuItem.is_available?"":"opacity-50 cursor-not-allowed"])},t[8]||(t[8]=[e("span",{class:"flex items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})]),l(" Add to Cart ")],-1)]),10,ee),m(c,{to:`/category/${o(s).currentMenuItem.category_id}`,class:"btn-outline"},{default:g(()=>t[9]||(t[9]=[l(" Back ")])),_:1,__:[9]},8,["to"])])])])])])):(r(),n("div",te,[t[11]||(t[11]=e("p",{class:"text-gray-500 text-lg mb-4"},"Menu item not found.",-1)),m(c,{to:"/menu",class:"btn-primary"},{default:g(()=>t[10]||(t[10]=[l(" Back to Menu ")])),_:1,__:[10]})]))])])}}});export{ae as default};
